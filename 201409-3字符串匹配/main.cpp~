#include<iostream>
#include<string>
using namespace std;



int main()
{
	string s,s1;
	cin>>s;
	int t,n;
	cin>>t;
	cin>>n;
	for(int i=0;i<n;i++)
	{
		cin>>s1;
		if(t==1)
		{
			for(int j=0;j<s1.length()-s.length();j++)
			{
				int k=0;
				while(s1[j+k]==s[k])
				{
					k++;
				}
				if(k==s.length(s))
				{
					break;
				}
			}
			cout<<s1;
		}else
		{
			for(int j=0;j<s1.length()-s.length();j++)
			{
				int l=0;
				while(s1[j+l]==s[l]||s1[j+l]==s[l]+32||s1[j+l]+32==s[l])
				{
					l++;
				}
				if(l==len(s))
				{
					break;
				}
			}
			cout<<s1;
		}
		
	}
}
